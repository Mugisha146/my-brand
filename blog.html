<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blogs</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/902bd6162d.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="blog.css" />
  </head>
  <body>
    <div class="about-content">
      <!-- navigation toggle button -->
      <div class="navbar-toggle" onclick="toggleNav()">
        <i class="fas fa-bars"></i>
      </div>

      <!-- nav -->
      <div class="nav" id="navbar">
        <ul class="text-center">
          <li>
            <a href="home.html"><i class="fa-solid fa-house"></i>&nbsp; HOME</a>
          </li>
          <li>
            <a href="about.html"
              ><i class="fa-solid fa-address-card"></i>&nbsp; ABOUT ME</a
            >
          </li>
          <li>
            <a href="skills.html"
              ><i class="fa-solid fa-flask"></i>&nbsp; SKILLS</a
            >
          </li>
          <li>
            <a href="blog.html"><i class="fa-solid fa-blog"></i>&nbsp; BLOG</a>
          </li>
          <li>
            <a href="portfolio.html"
              ><i class="fa-solid fa-briefcase"></i>&nbsp; PORTFOLIO</a
            >
          </li>
          <li>
            <a href="contact.html"
              ><i class="fa-solid fa-phone"></i>&nbsp; CONTACT</a
            >
          </li>
        </ul>
        <li>
          <a href="login.html" class="signup">&nbsp; Login</a>
        </li>
      </div>
      <div class="kk">
        <section id="blog">
          <div class="blog-heading">
            <h3>Recently Blog</h3>
          </div>
          <div class="blog-box-container">
            <div class="blog-box">
              <div class="blog-author">
                <div class="blog-author-img">
                  <img alt="" src="images/Mugisha photo.jpeg" />
                </div>
                <div class="blog-author-text">
                  <strong>Mugisha Emmanuel</strong>
                  <span>Dec 02, 2024</span>
                </div>
              </div>
              <div class="blog-box-img">
                <img alt="blog" src="images/coding.jpeg" />
                <a href="#" class="blog-img-link">
                  <i class="fa-solid fa-arrow-up-right-from-square"></i>
                </a>
              </div>
              <div class="blog-box-text">
                <a href="#"
                  >The ICPC International Collegiate Programming Contest</a
                >
                <p>
                  The International Collegiate Programming Contest is an
                  algorithmic programming contest for college students. Teams of
                  three, representing their university, work to solve the most
                  real-world problems, fostering collaboration, creativity,
                  innovation, and the ability to perform under pressure. Through
                  training and competition, teams challenge each other to raise
                  the bar on the possible. Quite simply, it is the oldest,
                  largest, and most prestigious programming contest in the
                  world.
                </p>
                <div class="blog-slider__actions">
                  <!-- First blog box -->
<button class="blog-slider__like-button" id="likeButton1">
  <i class="fa-regular fa-thumbs-up"></i>&nbsp;Like
  <span id="likeCount1">0</span>
</button>
<button class="blog-slider__share-button" id="shareButton1">
  <i class="fa-solid fa-share"></i>&nbsp;Share
</button>
<button class="blog-slider__comment-button" id="showCommentForm">
  <i class="fa-regular fa-comment"></i>&nbsp;Comment
</button>                                                                                                                                                                               
       <!-- Container for comment form -->
  <div id="commentFormContainer"></div>
            </div> </div> </div>

            <div class="blog-box">
              <div class="blog-author">
                <div class="blog-author-img">
                  <img alt="" src="images/Mugisha photo.jpeg" />
                </div>
                <div class="blog-author-text">
                  <strong>Mugisha Emmanuel</strong>
                  <span>Dec 02, 2024</span>
                </div>
              </div>
              <div class="blog-box-img">
                <img alt="blog" src="images/coding.jpeg" />
                <a href="#" class="blog-img-link">
                  <i class="fa-solid fa-arrow-up-right-from-square"></i>
                </a>
              </div>
              <div class="blog-box-text">
                <a href="#"
                  >The ICPC International Collegiate Programming Contest</a
                >
                <p>
                  The International Collegiate Programming Contest is an
                  algorithmic programming contest for college students. Teams of
                  three, representing their university, work to solve the most
                  real-world problems, fostering collaboration, creativity,
                  innovation, and the ability to perform under pressure. Through
                  training and competition, teams challenge each other to raise
                  the bar on the possible. Quite simply, it is the oldest,
                  largest, and most prestigious programming contest in the
                  world.
                </p>
                <div class="blog-slider__actions">
                  <!-- Second blog box -->
<button class="blog-slider__like-button" id="likeButton2">
  <i class="fa-regular fa-thumbs-up"></i>&nbsp;Like
  <span id="likeCount2">0</span>
</button>
<button class="blog-slider__share-button" id="shareButton2">
  <i class="fa-solid fa-share"></i>&nbsp;Share
</button>
<button class="blog-slider__comment-button" id="showCommentForm">
  <i class="fa-regular fa-comment"></i>&nbsp;Comment
</button> 
 <!-- Container for comment form -->
  <!--div id="commentFormContainer"></div-->
              </div>
            </div> </div>
            <div class="blog-box">
              <div class="blog-author">
                <div class="blog-author-img">
                  <img alt="" src="images/Mugisha photo.jpeg" />
                </div>
                <div class="blog-author-text">
                  <strong>Mugisha Emmanuel</strong>
                  <span>Dec 02, 2024</span>
                </div>
              </div>
              <div class="blog-box-img">
                <img alt="blog" src="images/coding.jpeg" />
                <a href="#" class="blog-img-link">
                  <i class="fa-solid fa-arrow-up-right-from-square"></i>
                </a>
              </div>
              <div class="blog-box-text">
                <a href="#"
                  >The ICPC International Collegiate Programming Contest</a
                >
                <p>
                  The International Collegiate Programming Contest is an
                  algorithmic programming contest for college students. Teams of
                  three, representing their university, work to solve the most
                  real-world problems, fostering collaboration, creativity,
                  innovation, and the ability to perform under pressure. Through
                  training and competition, teams challenge each other to raise
                  the bar on the possible. Quite simply, it is the oldest,
                  largest, and most prestigious programming contest in the
                  world.
                </p>
                <div class="blog-slider__actions">
                  
<!-- Third blog box -->
<button class="blog-slider__like-button" id="likeButton3">
  <i class="fa-regular fa-thumbs-up"></i>&nbsp;Like
  <span id="likeCount3">0</span>
</button>
<button class="blog-slider__share-button" id="shareButton3">
  <i class="fa-solid fa-share"></i>&nbsp;Share
</button>
<button class="blog-slider__comment-button" id="showCommentForm">
  <i class="fa-regular fa-comment"></i>&nbsp;Comment
</button> 
 <!-- Container for comment form -->
  <!--div id="commentFormContainer"></div-->
              </div>
            </div>
          </div>
        </section>
        <a href="#" class="seemore">Read More</a>
      </div>
      <div class="content-2">
        <p>
          Subscribe to get email notifications when a new article is posted on
          website:
        </p>
        <form id="subscribe-form">
          <div id="email-error" class="error-message"></div>
          <input type="email" id="email" placeholder="Enter your email" />
          <input type="submit" class="sub" value="Subscribe" />
        </form>
      </div>
      <div class="social-media-icon">
        <ul class="social-media-list">
          <li>
            <a href="#" target="_blank" class="contact-icon"
              ><i class="fa-brands fa-github"></i
            ></a>
          </li>
          <li>
            <a href="#" target="_blank" class="contact-icon"
              ><i class="fa-brands fa-linkedin"></i
            ></a>
          </li>
          <li>
            <a href="#" target="_blank" class="contact-icon"
              ><i class="fa-brands fa-instagram"></i
            ></a>
          </li>
        </ul>
        <div class="copyright">
          &copy; EL3.COM &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FOLLOW ME ON SOCIAL
          NETWORKS
        </div>
      </div>
    </div>
    <script>
      //VALIDATION
      document
        .getElementById("subscribe-form")
        .addEventListener("submit", function (event) {
          clearErrors();

          var emailInput = document.getElementById("email");
          var email = emailInput.value.trim();

          if (email === "") {
            showError("email-error", "Please enter your email.");
            emailInput.classList.add("error");
            event.preventDefault();
            return false;
          } else if (!validateEmail(email)) {
            showError("email-error", "Please enter a valid email address.");
            emailInput.classList.add("error");
            event.preventDefault();
            return false;
          }
        });

      function validateEmail(email) {
        var re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(email);
      }

      function clearErrors() {
        document.getElementById("email-error").innerHTML = "";
        document.getElementById("email").classList.remove("error");
      }

      function showError(elementId, message) {
        document.getElementById(elementId).innerHTML = message;
      }

      //DISPLAY BLOG
      document.addEventListener("DOMContentLoaded", function () {
        var blogBoxes = document.querySelectorAll(".blog-box");
        var blogData = JSON.parse(localStorage.getItem("blogData")) || [];

        function renderBlogPost(blog) {
          var blogBox = document.createElement("div");
          blogBox.classList.add("blog-box");

          var blogAuthor = document.createElement("div");
          blogAuthor.classList.add("blog-author");

          var authorImg = document.createElement("div");
          authorImg.classList.add("blog-author-img");
          var img = document.createElement("img");
          img.src = "images/Mugisha photo.jpeg";
          authorImg.appendChild(img);

          var authorText = document.createElement("div");
          authorText.classList.add("blog-author-text");
          var strong = document.createElement("strong");
          strong.textContent = blog.author;
          var span = document.createElement("span");
          span.textContent = blog.date;
          authorText.appendChild(strong);
          authorText.appendChild(span);

          blogAuthor.appendChild(authorImg);
          blogAuthor.appendChild(authorText);

          var blogImg = document.createElement("div");
          blogImg.classList.add("blog-box-img");

          var img = document.createElement("img");
          img.alt = "blog";

          // Retrieve the image source from local storage
          var storedImage = localStorage.getItem("blogData.image");
          if (storedImage) {
            img.src = storedImage;
          } else {
            // Set a default image source if there's none in local storage
            img.src = "images/membership.jpeg";
          }

          var imgLink = document.createElement("a");
          imgLink.href = "#";
          imgLink.classList.add("blog-img-link");

          var arrowIcon = document.createElement("i");
          arrowIcon.classList.add("fa-solid", "fa-arrow-up-right-from-square");

          imgLink.appendChild(arrowIcon);
          blogImg.appendChild(img);
          blogImg.appendChild(imgLink);

          var blogText = document.createElement("div");
          blogText.classList.add("blog-box-text");
          var titleLink = document.createElement("a");
          titleLink.href = "#"; // link
          titleLink.textContent = blog.title;
          var contentParagraph = document.createElement("p");
          contentParagraph.textContent = blog.content;
          blogText.appendChild(titleLink);
          blogText.appendChild(contentParagraph);
          var actionsDiv = document.createElement("div");
          actionsDiv.classList.add("blog-slider__actions");
          var likeButton = document.createElement("button");
          likeButton.classList.add("blog-slider__like-button");
          likeButton.innerHTML =
            '<i class="fa-regular fa-thumbs-up"></i>&nbsp;Like';
          var shareButton = document.createElement("button");
          shareButton.classList.add("blog-slider__share-button");
          shareButton.innerHTML =
            '<i class="fa-solid fa-share"></i>&nbsp;Share';
          var commentButton = document.createElement("button");
          commentButton.classList.add("blog-slider__comment-button");
          commentButton.innerHTML =
            '<i class="fa-regular fa-comment"></i>&nbsp;Comment';
          actionsDiv.appendChild(likeButton);
          actionsDiv.appendChild(shareButton);
          actionsDiv.appendChild(commentButton);
          blogBox.appendChild(blogAuthor);
          blogBox.appendChild(blogImg);
          blogBox.appendChild(blogText);
          blogBox.appendChild(actionsDiv);
          var blogContainer = document.querySelector(".blog-box-container");
          blogContainer.appendChild(blogBox);
        }

        blogData.forEach(function (blog) {
          renderBlogPost(blog);
        });

        function addNewBlogPost(blog) {
          renderBlogPost(blog);
          localStorage.setItem("blogData", JSON.stringify(blogData));
        }

        //for add new blog
        var postForm = document.getElementById("post-form");
        postForm.addEventListener("submit", function (event) {
          event.preventDefault();
          var title = document.getElementById("post-title").value.trim();
          var content = document.getElementById("post-content").value.trim();
          var image = document.getElementById("project_image").files[0];
          var newBlog = {
            id: Math.floor(Math.random() * 1000),
            author: "Mugisha Emmanuel",
            date: new Date().toLocaleDateString(),
            title: title,
            content: content,
            image: image,
          };
          blogData.push(newBlog);
          addNewBlogPost(newBlog);
          alert("Blog post added successfully!");
        });
      });


      //read more button
      let loadmore=document.querySelector('.seemore');
      let currentItem=3;
      loadmore.addEventListener('click',function(){
        let boxes=[...document.querySelectorAll('.blog-box-container .blog-box')];
        for(let i =currentItem; i<currentItem+3;i++){
          boxes[i].style.display='block';
        }
        currentItem+=3;
        if(currentItem >=boxes.length){
          loadmore.style.display='none';
        }});



      //like,share,comment
      // JavaScript code for counting likes
       // JavaScript code for counting likes for the first blog box
  let likeCount1 = 0;
  const likeButton1 = document.getElementById("likeButton1");
  const likeCountElement1 = document.getElementById("likeCount1");

  likeButton1.addEventListener("click", () => {
    likeCount1++;
    likeCountElement1.textContent = likeCount1;
  });

  // JavaScript code for sharing blog for the first blog box
  const shareButton1 = document.getElementById("shareButton1");

  shareButton1.addEventListener("click", async () => {
    const shareData = {
      title: "The ICPC International Collegiate Programming Contest",
      text: "Check out this interesting blog about the ICPC!",
      url: window.location.href,
    };

    try {
      await navigator.share(shareData);
      console.log("Shared successfully");
    } catch (error) {
      console.error("Error sharing:", error);
    }
  });



  
  //second blog
   // JavaScript code for counting likes for the first blog box
  let likeCount2 = 0;
  const likeButton2 = document.getElementById("likeButton2");
  const likeCountElement2 = document.getElementById("likeCount2");

  likeButton2.addEventListener("click", () => {
    likeCount2++;
    likeCountElement2.textContent = likeCount2;
  });

  // JavaScript code for sharing blog for the first blog box
  const shareButton2 = document.getElementById("shareButton2");

  shareButton2.addEventListener("click", async () => {
    const shareData = {
      title: "The ICPC International Collegiate Programming Contest",
      text: "Check out this interesting blog about the ICPC!",
      url: window.location.href,
    };

    try {
      await navigator.share(shareData);
      console.log("Shared successfully");
    } catch (error) {
      console.error("Error sharing:", error);
    }
  });



  //third blog
   // JavaScript code for counting likes for the first blog box
  let likeCount3 = 0;
  const likeButton3 = document.getElementById("likeButton3");
  const likeCountElement3 = document.getElementById("likeCount3");

  likeButton3.addEventListener("click", () => {
    likeCount3++;
    likeCountElement3.textContent = likeCount3;
  });

  // JavaScript code for sharing blog for the first blog box
  const shareButton3 = document.getElementById("shareButton3");

  shareButton3.addEventListener("click", async () => {
    const shareData = {
      title: "The ICPC International Collegiate Programming Contest",
      text: "Check out this interesting blog about the ICPC!",
      url: window.location.href,
    };

    try {
      await navigator.share(shareData);
      console.log("Shared successfully");
    } catch (error) {
      console.error("Error sharing:", error);
    }
  });


  // Function to initialize like, share, and comment functionalities for a single blog box
function initializeBlogBoxFunctionalities(postId, likeButtonId, likeCountId, shareButtonId, commentButtonId, commentCountId, commentFormId, commentInputId, commentSectionId) {
  // JavaScript code for counting likes
  let likeCount = parseInt(localStorage.getItem(`likeCount_${postId}`)) || 0;
  const likeButton = document.getElementById(likeButtonId);
  const likeCountElement = document.getElementById(likeCountId);

  likeButton.addEventListener("click", () => {
    likeCount++;
    likeCountElement.textContent = likeCount;
    localStorage.setItem(`likeCount_${postId}`, likeCount);
  });

  // JavaScript code for sharing blog
  const shareButton = document.getElementById(shareButtonId);

  shareButton.addEventListener("click", async () => {
    const shareData = {
      title: "The ICPC International Collegiate Programming Contest",
      text: "Check out this interesting blog about the ICPC!",
      url: window.location.href,
    };

    try {
      await navigator.share(shareData);
      console.log("Shared successfully");
    } catch (error) {
      console.error("Error sharing:", error);
    }
  });
}


// Initialize functionalities for the first blog box
initializeBlogBoxFunctionalities(
  "post1",
  "likeButton1",
  "likeCount1",
  "shareButton1",
);

// Initialize functionalities for the second blog box
initializeBlogBoxFunctionalities(
  "post2",
  "likeButton2",
  "likeCount2",
  "shareButton2",
);

// Initialize functionalities for the third blog box
initializeBlogBoxFunctionalities(
  "post3",
  "likeButton3",
  "likeCount3",
  "shareButton3",
);


//DISPLAY TOGGLE ON COMMENT
      document
        .getElementById("showCommentForm")
        .addEventListener("click", function (event) {
          event.preventDefault(); // Prevent the default action

          // Add your code to handle changing password here
          var commentFormContainer =
            document.getElementById("commentFormContainer");
          changePasswordForm.reset(); // Reset the form

          // Get the modal and its close button
          var modal = document.getElementById("card");
          var closeButton = modal.querySelector(".close");

          // Display the modal
          modal.style.display = "block";

          // When the user clicks on <span> (x), close the modal
          closeButton.onclick = function () {
            modal.style.display = "none";
          };

          // When the user clicks anywhere outside of the modal, close it
          window.onclick = function (event) {
            if (event.target == modal) {
              modal.style.display = "none";
            }
          }
        });





    // Function to show comment form when the comment button is clicked
    document.getElementById("showCommentForm").addEventListener("click", function() {
      // HTML content of the comment form
      const commentFormHTML = `
        <div class="card">
          <span class="title">Leave a Comment</span>
          <form class="form">
            <div class="group">
              <input placeholder="" type="text" required="" />
              <label for="name">Name</label>
            </div>
            <div class="group">
              <input placeholder="" type="email" id="email" name="email" required="" />
              <label for="email">Email</label>
            </div>
            <div class="group">
              <textarea placeholder="" id="comment" name="comment" rows="5" required=""></textarea>
              <label for="comment">Comment</label>
            </div>
            <button type="submit">Submit</button>
          </form>
          <div class="comments-container" id="commentsContainer">
            <!-- Comments will be displayed here -->
          </div>
        </div>
      `;
      
      // Insert the comment form HTML into the commentFormContainer
      document.getElementById("commentFormContainer").innerHTML = commentFormHTML;
      
      // Add event listener for form submission
      document.querySelector(".form").addEventListener("submit", function(event) {
        event.preventDefault();

        const name = this.querySelector('input[type="text"]').value;
        const email = this.querySelector('input[type="email"]').value;
        const comment = this.querySelector("textarea").value;

        if (name && email && comment) {
          const commentElement = document.createElement("div");
          commentElement.classList.add("comment");
          commentElement.innerHTML = `
            <div><strong>${name}</strong> (${email})</div>
            <div>${comment}</div>
            <button class="replyBtn">Reply</button>
          `;
          document.getElementById("commentsContainer").prepend(commentElement);

          // Clear form fields
          this.reset();
        } else {
          alert("Please fill in all fields.");
        }
      });
      
      // Add event listeners for reply functionality
      document.getElementById("commentsContainer").addEventListener("click", function(event) {
        if (event.target.classList.contains("replyBtn")) {
          const comment = event.target.closest(".comment");
          const name = comment.querySelector("strong").innerText;
          const replyTextarea = document.createElement("textarea");
          replyTextarea.placeholder = `Reply to ${name}`;
          comment.appendChild(replyTextarea);
          const replyButton = document.createElement("button");
          replyButton.innerText = "Submit Reply";
          replyButton.classList.add("replySubmit");
          comment.appendChild(replyButton);
          event.target.remove();
        }
      });
      
      // Add event listener for submitting replies
      document.getElementById("commentsContainer").addEventListener("click", function(event) {
        if (event.target.classList.contains("replySubmit")) {
          const replyTextarea = event.target.previousElementSibling;
          const reply = replyTextarea.value;
          if (reply) {
            const replyElement = document.createElement("div");
            replyElement.classList.add("reply");
            replyElement.innerHTML = `<strong>You:</strong> ${reply}`;
            event.target.parentElement.insertBefore(replyElement, replyTextarea);
            replyTextarea.remove();
            event.target.remove();
          } else {
            alert("Please enter a reply.");
          }
        }
      });
    });

//toggle on nav
      function toggleNav() {
        var nav = document.getElementById("navbar");
        if (nav.style.display === "none") {
          nav.style.display = "block";
        } else {
          nav.style.display = "none";
        }
      }
    </script>
  </body>
</html>
